  <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>EliteTemplates | Premium HTML Templates</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Montserrat:wght@700;800;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- Header, Hero, Filters Section, etc. remain unchanged -->

  <!-- Templates Grid -->
  <section class="templates-section" id="templates">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">Our Premium Collection</h2>
        <p class="section-subtitle">Professionally designed templates with enhanced visual depth</p>
      </div>
      <div id="template-list" class="templates-grid"></div>
      <div id="pagination" class="pagination" style="text-align:center; margin-top: 40px;"></div>
    </div>
  </section>

  <!-- CTA & Footer Section remains unchanged -->

  <script>
    const searchInput = document.getElementById('search-input');
    const categoryFilter = document.getElementById('category-filter');
    const featuresFilter = document.getElementById('features-filter');
    const layoutFilter = document.getElementById('layout-filter');
    const templateList = document.getElementById('template-list');
    const pagination = document.getElementById('pagination');

    let templates = [];
    let currentPage = 1;
    const templatesPerPage = 10;

    fetch('all-templates.json')
      .then(res => res.json())
      .then(paths => {
        return Promise.all(paths.map(path => fetch(path).then(r => r.json())));
      })
      .then(data => {
        templates = data;
        displayTemplates();
      });

    function displayTemplates() {
      const filtered = getFilteredTemplates();
      const totalPages = Math.ceil(filtered.length / templatesPerPage);
      const start = (currentPage - 1) * templatesPerPage;
      const end = start + templatesPerPage;
      const paginatedTemplates = filtered.slice(start, end);

      templateList.innerHTML = paginatedTemplates.map(template => `
        <div class="template-card">
          <div class="card-image">
            <img src="${template.image}" alt="${template.name}" />
            <span class="category-badge">${template.category}</span>
          </div>
          <div class="card-content">
            <h3>${template.name}</h3>
            <p>${template.description || ''}</p>
            <div class="card-actions">
              <a href="https://emonshah.github.io/small-business-templates/${template.folder}/" target="_blank" class="btn btn-sm">Live Demo</a>
              <a href="https://github.com/emonshah/small-business-templates/tree/main/${template.folder}/" target="_blank" class="btn btn-sm btn-outline-sm">Source Code</a>
            </div>
          </div>
        </div>
      `).join('');

      pagination.innerHTML = '';
      for (let i = 1; i <= totalPages; i++) {
        const btn = document.createElement('button');
        btn.innerText = i;
        btn.className = 'btn btn-sm' + (i === currentPage ? ' btn-outline-sm' : '');
        btn.addEventListener('click', () => {
          currentPage = i;
          displayTemplates();
        });
        pagination.appendChild(btn);
      }
    }

    function getFilteredTemplates() {
      const searchTerm = searchInput.value.toLowerCase();
      const cat = categoryFilter.value;
      const feat = featuresFilter.value;
      const layout = layoutFilter.value;

      return templates.filter(t => {
        const matchesSearch = !searchTerm ||
          t.name.toLowerCase().includes(searchTerm) ||
          (t.description || '').toLowerCase().includes(searchTerm);

        const matchesCat = cat === 'all' || t.category === cat;
        const matchesFeat = feat === 'all' || (t.features || []).includes(feat);
        const matchesLayout = layout === 'all' || t.layout === layout;

        return matchesSearch && matchesCat && matchesFeat && matchesLayout;
      });
    }

    [searchInput, categoryFilter, featuresFilter, layoutFilter].forEach(el => {
      el.addEventListener('input', () => {
        currentPage = 1;
        displayTemplates();
      });
    });
  </script>
</body>
</html>
